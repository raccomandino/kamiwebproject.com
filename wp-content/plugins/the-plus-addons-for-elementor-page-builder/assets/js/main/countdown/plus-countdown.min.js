(function(){"use strict";var a=function(a,b){new class c{constructor(){this.container=a[0].querySelectorAll(".tp-countdown"),this.tp_load_counterdown()}tp_load_counterdown(){let a=this.container[0]&&this.container[0].dataset&&this.container[0].dataset.basic?JSON.parse(this.container[0].dataset.basic):"",b=a.style;this.Basic=a,this.GetClassList=this.container[0]&&this.container[0].dataset&&this.container[0].dataset.classlist?JSON.parse(this.container[0].dataset.classlist):"",a&&"normal"==a.type&&(b&&"style-1"==b?this.tp_normal_style1():b&&"style-2"==b?this.tp_filpdown_style2():b&&"style-3"==b&&this.tp_progressbar_style3())}tp_normal_style1(){b(".pt_plus_countdown").each(function(){var a=b(this),c=a.attr("data-timer"),d=a.attr("data-offset"),e=a.data("days"),f=a.data("hours"),g=a.data("minutes"),h=a.data("seconds");a.downCount({date:c,offset:d,text_day:e,text_hour:f,text_minute:g,text_second:h})})}tp_filpdown_style2(){let a=this;if(this.FlipdownID=`tp-flipdown-${this.Basic.widgetid}`,this.Basic.normalexpiry="none",this.container[0].classList.contains("countdown-style-2")){this.container[0].insertAdjacentHTML("afterbegin",`<div id ="${this.FlipdownID}" class="tp-scarcity-flipdown flipdown"></div>`);let b=new Date(this.Basic.timer).getTime()/1e3;return new FlipDown(b,this.FlipdownID,{theme:"dark",headings:[a.Basic.days,a.Basic.hours,a.Basic.minutes,a.Basic.seconds]}).start().ifEnded(()=>{a.GetClassList&&(document.querySelector(a.GetClassList.duringcountdownclass).style.display="none",document.querySelector(a.GetClassList.afterexpcountdownclass).style.display="block")}),a.GetClassList&&(document.querySelector(a.GetClassList.duringcountdownclass).style.display="block",document.querySelector(a.GetClassList.afterexpcountdownclass).style.display="none"),void this.tp_enable_column()}}tp_progressbar_style3(){let a=this;this.Basic.normalexpiry="none",this.tp_progressbar_sethtml();let b=this.container[0].querySelector(`#tp-sec-widget-${this.Basic.widgetid}`),c=this.container[0].querySelector(`#tp-min-widget-${this.Basic.widgetid}`),d=this.container[0].querySelector(`#tp-hour-widget-${this.Basic.widgetid}`),e=this.container[0].querySelector(`#tp-day-widget-${this.Basic.widgetid}`),f=this.tp_style3_styleobj();if(b){let h=new Date(this.Basic.timer).getTime(),i=new ProgressBar.Circle(b,f),j=new ProgressBar.Circle(c,f),k=new ProgressBar.Circle(d,f),l=new ProgressBar.Circle(e,f);var g=setInterval(function(){let b=new Date,c=new Date(h),d=c-b,e=Math.floor(1*(d/86400000));0>=e&&(e=0),l.animate(e/(e+5),function(){a.tp_progressbar_settext(l,e,a.Basic.days)});let f=Math.floor(1*(d%86400000/3600000));0>=f&&(f=0),k.animate(f/24,function(){a.tp_progressbar_settext(k,f,a.Basic.hours)});let m=Math.floor(1*(d%86400000%3600000/60000));0>=m&&(m=0),j.animate(m/60,function(){a.tp_progressbar_settext(j,m,a.Basic.minutes)});let n=Math.floor(1*(d%86400000%3600000%60000/1e3));0>=n&&(n=0),i.animate(n/60,function(){a.tp_progressbar_settext(i,n,a.Basic.seconds)}),0>=e+f+m+n&&clearInterval(g)})}this.tp_enable_column()}tp_progressbar_sethtml(){if(this.Basic&&this.Basic.widgetid){let a=`<div class="tp-countdown-counter"><div class="counter-part" id="tp-day-widget-${this.Basic.widgetid}"></div><div class="counter-part" id="tp-hour-widget-${this.Basic.widgetid}"></div><div class="counter-part" id="tp-min-widget-${this.Basic.widgetid}"></div><div class="counter-part" id="tp-sec-widget-${this.Basic.widgetid}"></div></div>`;this.container[0].insertAdjacentHTML("afterbegin",a)}}tp_progressbar_settext(a,b,c){a.setText(`<span class="number">${b}</span><span class="label">${c}</span>`)}tp_style3_styleobj(){return{duration:200,color:"#000000",trailColor:"#ddd",strokeWidth:5,trailWidth:3}}tp_enable_column(){if("style-2"==this.Basic.style){let a=this.container[0].querySelectorAll(".rotor-group");if(this.Basic.daysenable||a[0].remove(),this.Basic.hoursenable||a[1].remove(),this.Basic.minutesenable||a[2].remove(),this.Basic.secondsenable||a[3].remove(),a=this.container[0].querySelectorAll(".rotor-group"),!this.Basic.daysenable||!this.Basic.hoursenable||!this.Basic.minutesenable||!this.Basic.secondsenable){let b=a[a.length-1];b.style.setProperty("--setDisplay","none")}}else if("style-3"==this.Basic.style){let a=this.container[0].querySelectorAll(".counter-part");this.Basic.daysenable||a[0].remove(),this.Basic.hoursenable||a[1].remove(),this.Basic.minutesenable||a[2].remove(),this.Basic.secondsenable||a[3].remove()}}}};window.addEventListener("elementor/frontend/init",()=>{elementorFrontend.hooks.addAction("frontend/element_ready/tp-countdown.default",a)})})(jQuery);